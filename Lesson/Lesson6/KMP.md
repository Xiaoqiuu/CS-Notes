# KMP算法

KMP算法是一种字符串匹配算法，~~它的时间复杂度为O(n+m)，其中n和m分别是待匹配字符串和模式字符串的长度。~~用于匹配模式串P在文本串S中出现的所有位置。

> 举个栗子，S = "ababac", P = "aba", 那么出现的所有位置是1 3。

在初学KMP时，只需要记住怎么使用模板就行(因为也深究不了多少的说)，原理呢简单了解了解就行，避免自己绕进去，有空再慢慢画图理解。

KMP算法是将$O(n^2)$的字符串匹配算法优化到了$O(n)$，其精髓在于`next`数组，`next`数组表示此时**模式串下标失配时应该移动到的位置**，也表示**最长的相同真前后缀的长度**(前缀后缀不相等)。



计算next数组(next数组仅与模式串P有关)的方式就是用P自己去匹配自己，目前只需要掌握模板即可，暂时不要深究原理。

```cpp
char s[N], p[M];
int nex[M];
nex[0] = strlen(s+1), m = strlen(p+1);//字符串下标都是从1开始
nex[0]
```